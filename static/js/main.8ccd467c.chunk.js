(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1025:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(55),o=n.n(i),l=(n(411),n(62)),c=n(63),s=n(66),u=n(64),d=n(65),m=n(114),p=n(385),f=n(155),b=n(1029),h=n(1028),g=n(1027),v=n(402),y=n(67),O=n(74),j=n(198),x=n.n(j),R=n(113),w=n(386),k=n(387),E=(n(865),n(867),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).gridApi=void 0,n.onGridReady=n.onGridReady.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onGridReady",value:function(e){this.gridApi=e.api,this.gridApi.sizeColumnsToFit()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.columns,n=e.rowData;return r.a.createElement("div",{className:"ag-theme-balham",style:{height:"auto",maxHeight:"580px",minHeight:"300px",width:"100%"}},r.a.createElement(k.AgGridReact,{columnDefs:t,rowData:n,animateRows:!0,onGridReady:this.onGridReady}))}}]),t}(a.Component)),C=n(59),_=n(388),S=n.n(_),L=C.a.div.withConfig({displayName:"styles__StatsBlock",componentId:"sc-1wb6q9j-0"})(["background:",";background-size:contain;height:78px;width:66px;.heading{padding-top:8px;height:24px;width:100%;font-size:12px;line-height:12px;text-align:center;font-family:Roboto,Helvetica,sans-serif;box-sizing:border-box;}.primary{height:30px;width:100%;font-size:22px;line-height:22px;font-weight:500;text-align:center;font-family:Roboto,Helvetica,sans-serif;box-sizing:border-box;}.secondary{height:22px;width:100%;font-family:Roboto,Helvetica,sans-serif;box-sizing:border-box;text-align:center;}"],["center","center","transparent","url(".concat(S.a,")")].join(" ")),I=C.a.div.withConfig({displayName:"styles__StatsRow",componentId:"sc-1wb6q9j-1"})(["height:auto;margin:0.5rem 0;display:flex;flex-direction:row;justify-content:flex-start;flex-wrap:wrap;width:100%;","{margin:0.25rem 1rem 0.25rem 0;}"],L),D=n(403),A=function(e){return function(e){var t=e.toString().split(".").map(function(e){return parseInt(e,10)});if(t.length<1)return e;var n=Object(D.a)(t,2),a=n[0];return n[1]>=0&&e<0?a-1:a}((parseInt(e,10)-10)/2).toString()},N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderBlock",value:function(e,t,n){return r.a.createElement(L,{key:n},r.a.createElement("div",{className:"heading"},e),r.a.createElement("div",{className:"primary"},t),r.a.createElement("div",{className:"secondary"},A(t)))}},{key:"render",value:function(){var e=this,t=this.props.currentRolls;return t?r.a.createElement(I,null,Object.keys(t).map(function(n,a){var r=function(e){var t=parseInt(e,10);return t||0===t?"Stat ".concat((t+1).toString()):e}(n);return e.renderBlock(r,t[n],a)})):null}}]),t}(a.Component),z=n(393),T=n.n(z),W=n(392),H=n.n(W),B=n(394),G=n.n(B),M=n(391),P=n.n(M),F=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){(0,this.props.onChange)(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.data,a=e.label,i=e.styles,o=void 0===i?{}:i;return r.a.createElement(P.a,{style:Object(y.a)({display:"flex",flex:"1 1 auto"},o)},r.a.createElement(H.a,{htmlFor:"age-simple"},a),r.a.createElement(T.a,{value:t,onChange:this.handleChange},n.map(function(e){return r.a.createElement(G.a,{value:e.key},e.value)})))}}]),t}(a.Component),q=(C.a.div.withConfig({displayName:"styles__StyledComponent",componentId:"sc-1twghjd-0"})([""]),a.Component,n(395)),J=n.n(q),U=C.a.div.withConfig({displayName:"styles__Row",componentId:"dmfa7k-0"})(["display:flex;flex-direction:row;justify-content:flex-start;box-sizing:border-box;"," flex-wrap:wrap;"],function(e){return e.even?"justify-content: space-between;":""}),K=C.a.div.withConfig({displayName:"styles__TablePositioner",componentId:"dmfa7k-1"})(["display:flex;flex:1;flex-direction:row;justify-content:flex-start;position:relative;margin-top:1rem;"]),$=C.a.div.withConfig({displayName:"styles__PageInnerContent",componentId:"dmfa7k-2"})(["flex:1;overflow-y:scroll;display:flex;flex-direction:column;"]),Q=C.a.div.withConfig({displayName:"styles__ButtonsContainer",componentId:"dmfa7k-3"})(["& button{margin:0.5rem 0.5rem 0 0;}&:first-child > button{margin-left:0;}"]),V=C.a.div.withConfig({displayName:"styles__PageWrapper",componentId:"dmfa7k-4"})(["background-color:rgba(255,255,255,0.8);display:flex;flex-direction:column;flex:1 1 auto;max-width:60vw;margin:3rem 0;padding:2rem;border-radius:0.25rem;box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);"]),X=C.a.div.withConfig({displayName:"styles__PageContainer",componentId:"dmfa7k-5"})(["display:flex;position:relative;flex-direction:row;width:100%;height:100vh;justify-content:center;box-sizing:border-box;background:url(",");background-repeat:no-repeat;background-size:cover;background-position:fixed;"],J.a),Y=C.a.div.withConfig({displayName:"styles__SelectFieldWrapper",componentId:"dmfa7k-6"})(["flex:1 1 100%;margin:0.75rem 0;"]),Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={rolls:[],ruleOptions:[],selectedRule:""},n.getDisplayRolls=n.getDisplayRolls.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getDisplayRolls",value:function(){var e=this.props.statRolls;return Object.keys(e).map(function(t){var n=e[t].sort(function(e,t){return t-e}),a=Object(w.round)(n.reduce(function(e,t){return e+t})/6,2);return Object(y.a)({},n,{average:a})})}},{key:"getColumns",value:function(){var e={sortable:!0,resizable:!0,filter:!0,lockPosition:!0},t=Object(R.range)(0,6).map(function(t){return Object(y.a)({headerName:"Stat ".concat(t+1),field:t.toString()},e)}),n=[Object(y.a)({headerName:"Average",field:"average"},e)];return[].concat(Object(v.a)(t),n)}},{key:"render",value:function(){var e=this.props,t=e.clearAllRolls,n=e.rollStats,a=e.rulesetOptions,i=e.selectedRulesetId,o=e.switchRule,l=this.getColumns(),c=this.getDisplayRolls();return r.a.createElement(X,null,r.a.createElement(V,null,r.a.createElement($,null,r.a.createElement(U,null),r.a.createElement(U,{even:!0},r.a.createElement("div",null,r.a.createElement("h1",null,"Really fair dice roller"),r.a.createElement(Q,null,r.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){return n(1)}},"ROLL!"),r.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){return n(100)}},"ROLL 100!"),r.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){return t()}},"CLEAR!")))),r.a.createElement(U,null,r.a.createElement(Y,null,r.a.createElement(F,{onChange:o,value:i,data:a,label:"Rolling rule",styles:{maxWidth:"250px"}}))),r.a.createElement(U,null,r.a.createElement(N,{currentRolls:c[c.length-1]})),r.a.createElement(K,null,r.a.createElement(E,{columns:l,rowData:c})))))}}]),t}(a.Component),ee=Object(m.c)(function(e){var t=e.diceReducer,n=t.statRolls,a=t.selectedRule,r=t.ruleSets;return{rulesetOptions:Object.keys(r).map(function(e){return{key:e,value:r[e].name}}),selectedRuleset:r[a],selectedRulesetId:a,statRolls:n}},function(e){return{clearAllRolls:function(){e({type:"CLEAR_ALL_ROLLS"})},rollStats:function(t){e(function(){return{type:"ROLL_STATS",data:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}}(t))},switchRule:function(t){e({type:"SWITCH_RULE",data:t})}}})(Z),te=function(){return r.a.createElement(b.a,{basename:"/dnd-roller"},r.a.createElement(h.a,null,r.a.createElement(g.a,{component:ee,exact:!0,path:"/"})))},ne=n(56),ae=n(397),re=n(197),ie=n(398),oe=n(196),le=n(383),ce=n(195),se=n(399),ue={ROLL_3:{name:"Roll 6x3",dice:3,sets:6,discardDice:0,discardSets:0},ROLL_3_DISCARD_SET:{name:"Roll 7x3, discard lowest set",dice:3,sets:7,discardDice:0,discardSets:1},ROLL_4_DISCARD_1:{name:"Roll 6x4, discard lowest dice",dice:4,sets:6,discardDice:1,discardSets:0}},de=function(){return Math.floor(6*Math.random())+1},me=function(e,t){return t-e},pe=function(e,t){return e+t},fe=function(e,t){var n=t.sort(me);return n.slice(0,n.length-e)},be=function(e,t){var n=e.dice,a=e.discardDice,r=e.discardSets,i=e.sets,o=Object(R.range)(0,i).map(function(e){return function(e,t){var n=Object(R.range)(0,e).map(de);return t?fe(t,n).reduce(pe):n.reduce(pe)}(n,a)});return r?fe(r,o):o},he={statRolls:{},ruleSets:ue,selectedRule:Object.keys(ue)[0]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.data;switch(n){case"ROLL_STATS":var r=a,i=e.selectedRule,o=e.ruleSets,l=Object(R.range)(0,r).reduce(function(e){var t=be(o[i]),n=Object(se.generate)();return Object(y.a)({},e,Object(ce.a)({},n,t))},{});return Object(y.a)({},e,{statRolls:Object(y.a)({},e.statRolls,l)});case"SWITCH_RULE":return Object(y.a)({},e,{selectedRule:a});case"CLEAR_ALL_ROLLS":return Object(y.a)({},e,{statRolls:{}});default:return e}},ve={},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve;(arguments.length>1?arguments[1]:void 0).type;return e},Oe=function(e){return Object(ne.combineReducers)({rootReducer:ye,diceReducer:ge,router:Object(f.b)(e)})},je=n(400),xe=n.n(je),Re=n(401),we=n.n(Re),ke=xe()({secretKey:"test-key",onError:function(){localStorage.clear(),window.location.reload()}}),Ee={key:"root",storage:we.a,blacklist:[],transforms:[ke],throttle:1e3},Ce=Object(re.a)(),_e=Object(ie.createLogger)({collapsed:!0,level:"info"}),Se=Object(ae.composeWithDevTools)({}),Le=function(e,t){return"dev"===t?Object(ne.createStore)(e,Se(Object(ne.applyMiddleware)(Object(le.a)(Ce),_e))):Object(ne.createStore)(e,Object(ne.applyMiddleware)(Object(le.a)(Ce)))};var Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dev",t=Oe(Ce),n=Object(oe.persistReducer)(Ee,t),a=Le(n,e);return{store:a,persistor:Object(oe.persistStore)(a,{},function(){})}}(),De=Ie.persistor,Ae=Ie.store,Ne=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{store:Ae},r.a.createElement(p.a,{loading:null,persistor:De},r.a.createElement(f.a,{history:Ce},r.a.createElement(te,null))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},388:function(e,t,n){e.exports=n.p+"static/media/abilityscore.2d90c836.svg"},395:function(e,t,n){e.exports=n.p+"static/media/background.00fb1958.jpg"},406:function(e,t,n){e.exports=n(1025)},411:function(e,t,n){}},[[406,2,1]]]);
//# sourceMappingURL=main.8ccd467c.chunk.js.map